- content_for :page_links do
  = link_to 'New Match', new_my_fifa_match_path, class: 'ui basic primary button'

= render 'my_fifa/shared/filter_matches'

table.ui.basic.sortable.definition.selectable.unstackable.compact.small.table[data-link="/my_fifa/matches/" width="100%"]
  thead
    tr
      - ['Opponent Team', 'Competition', 'Score', 'MOTM', 'Date Played'].each do |header|
        th = header

javascript:
  $(function(){
    filterTable = $('table').DataTable({
      processing: true,
      ajax: {
        url: '/my_fifa/matches',
        data: function(d){
          d.season = $('select#season').val();
          d.competition = $('select#competition').val();
        }
      },
      order: [[4, 'desc']],
      columns: [
        { data: 'opponent' },
        { data: 'competition' },
        { data: 'score', searchable: false, sortable: false },
        { data: 'motm' },
        { data: { _: 'date_played', sort: 'timestamp' }, searchable: false },
      ],
      createdRow: function(nRow, aData){
        $(nRow)
          .data('id', aData.id)
          .addClass(aData.result);
      }
    });    
  });